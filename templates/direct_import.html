{% extends "base.html" %}
{% block content %}
<h2>Direct Import</h2>
<a href="/import-list" class="btn" id="importListBtn">+ Import List</a>
<script>
// Intercept Import List click to clarify mapping workflow
document.addEventListener('DOMContentLoaded', function() {
    var btn = document.getElementById('importListBtn');
    if (btn) {
        btn.onclick = function(e) {
            e.preventDefault();
            window.location.href = '/import-list';
            // Optionally, show a message or modal here to clarify mapping is required before upload
        };
    }
});
</script>
<table>
    <thead>
        <tr>
            <th>List Name</th>
            <th>Total Rows</th>
            <th>Created</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for camp in campaigns %}
        <tr>
            <td>{{ camp.name }}</td>
            <td>{{ camp.total_rows }}</td>
            <td>{{ camp.created_at }}</td>
            <td>
                <a href="/campaign/{{ camp.id }}">View</a>
                <a href="/campaign/{{ camp.id }}/download">Download</a>
                <form action="/campaign/{{ camp.id }}/delete" method="POST" style="display:inline;" onsubmit="return confirm('Delete this campaign?');">
                    <button type="submit">Delete</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
